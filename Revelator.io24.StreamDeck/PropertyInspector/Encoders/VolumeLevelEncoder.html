<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Volume Level Encoder</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/barraider/streamdeck-easypi-v2@latest/src/sdpi.css">
    <script src="https://cdn.jsdelivr.net/gh/barraider/streamdeck-easypi-v2@latest/src/sdtools.common.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/barraider/streamdeck-easypi-v2@latest/src/rangeTooltip.css">
    <script src="https://cdn.jsdelivr.net/gh/barraider/streamdeck-easypi-v2@latest/src/rangeTooltip.js"></script>
</head>
<body>
    <div id="warning-item" class="sdpi-item">
        Warning
    </div>

    <div class="sdpi-item">
        <div class="sdpi-item-label">Input</div>
        <select id="inputValue" class="sdpi-item-value select sdProperty" onchange="setSettings()">
            <option value="Mic_L">Mic L [io24, io44]</option>
            <option value="Mic_R">Mic R [io24]</option>
            <option value="Headset_Mic">Headset Mic [io44]</option>
            <option value="Line_In">Line In [io44]</option>
            <option value="Playback">Playback [io24, io44]</option>
            <option value="Virtual_A">Virtual A [io24, io44]</option>
            <option value="Virtual_B">Virtual B [io24, io44]</option>
            <option value="Reverb">Reverb [io24, io44]</option>
            <option value="Mix">Mix [io24, io44]</option>
        </select>
    </div>

    <div class="sdpi-item">
        <div class="sdpi-item-label">Output</div>
        <select id="outputValue" class="sdpi-item-value select sdProperty" onchange="setSettings()">
            <option value="Main">Main [io24, io44]</option>
            <option value="Mix_A">Stream Mix A [io24, io44]</option>
            <option value="Mix_B">Stream Mix B [io24, io44]</option>
        </select>
    </div>

    <!-- Keypad Only: -->
    <div style="display: none;" class="sdpi-item keypad">
        <div class="sdpi-item-label">Action</div>
        <select id="action-item" class="sdpi-item-value select sdProperty" onchange="setSettings()">
            <!-- Set Fixed Volume -96 dB to +10 dB -->
            <option value="Set">Set Input Volume (dB)</option>
            <!-- Adjust Volume Up or Down -25 dB to +25 dB -->
            <option value="Adjust">Adjust Input Volume (dB)</option>
            <!-- If mute, no slider should be shown -->
            <option value="Mute">Mute Input Volume</option>
        </select>
    </div>

    <!-- Encoder Only: -->
    <div style="display: none;" class="sdpi-item encoder">
        <div class="sdpi-item-label">Action</div>
        <!-- There is only one option, and that is to dial in the volume -->
        <span style="font-weight: bold; color: white; margin-left: 10px; margin-top: 5px">Adjust Output Volume</span>
    </div>

    <!-- Keypad Only (Dynamic): -->
    <div id="volume-item" style="display: none" type="range" class="sdpi-item sdShowTooltip">
        <div class="sdpi-item-label">Volume</div>
        <div class="sdpi-item-value">
            <span value="-96">-96</span>
            <input id="volume" type="range" min="-96" max="10" data-suffix=" dB" class="sdProperty" oninput="setSettings()" />
            <span value="10" class="clickable">+10</span>
        </div>
    </div>

    <!-- Keypad (Dynamic) and Encoder (Always): -->
    <div id="volume-step-item" style="display: none" type="range" class="sdpi-item sdShowTooltip encoder">
        <div class="sdpi-item-label">Step Size</div>
        <div class="sdpi-item-value">
            <span id="min" value="-25">-25</span>
            <input id="volume-step" type="range" min="-25" max="25" value="5" data-suffix=" dB" class="sdProperty" oninput="setSettings()" />
            <span id="max" class="clickable" value="25">+25</span>
        </div>
    </div>

    <div class="sdpi-info-label hidden" style="top: -1000;" value="">Tooltip</div>
    <script src="VolumeLevelEncoder.js"></script>
</body>
</html>